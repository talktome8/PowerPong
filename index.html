<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2-Player Pong Game ğŸ®</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="menu-bar">
        <div class="menu-left">
            <h1>â¤ï¸ Couples Pong Game â¤ï¸</h1>
        </div>
        <div class="menu-right">
            <button id="helpBtn" class="help-btn" title="How to Play">â“</button>
            <button id="resetBtn" class="reset-btn" title="Reset Game">ğŸ”„</button>
        </div>
    </div>

    <div class="container">
        <div class="scoreboard">
            <div class="player">
                <h2 id="player1Name">Player 1</h2>
                <div id="score1" class="score">0</div>
                <div class="controls">W/S Keys</div>
            </div>
            <div class="vs">VS</div>
            <div class="player">
                <h2 id="player2Name">Player 2</h2>
                <div id="score2" class="score">0</div>
                <div class="controls">â†‘/â†“ Keys</div>
            </div>
        </div>
        <canvas id="gameCanvas" width="1200" height="600"></canvas>
        <div id="gameStatus" class="game-status"></div>
        
        <!-- Mobile Touch Controls -->
        <div id="mobileControls" class="mobile-controls">
            <div class="touch-button touch-up" id="touchUp">â–²</div>
            <div class="touch-button touch-down" id="touchDown">â–¼</div>
        </div>
        
        <!-- Mobile Start/Pause Button -->
        <button id="mobileStartBtn" class="mobile-start-btn">START</button>
    </div>

    <!-- Game Mode Selection Menu -->
    <div id="modeModal" class="modal">
        <div class="modal-content">
            <h2>ğŸ® Select Game Mode ğŸ®</h2>
            <div class="mode-selection">
                <button class="mode-btn" id="singlePlayerBtn">
                    <div class="mode-icon">ğŸ¤–</div>
                    <h3>Single Player</h3>
                    <p>Play against AI</p>
                </button>
                <button class="mode-btn" id="twoPlayerBtn">
                    <div class="mode-icon">ğŸ‘¥</div>
                    <h3>Two Players</h3>
                    <p>Classic head-to-head</p>
                </button>
                <button class="mode-btn" id="threePlayerBtn">
                    <div class="mode-icon">ğŸ†</div>
                    <h3>Three Players</h3>
                    <p>Tournament mode!</p>
                </button>
            </div>
            
            <!-- Control Scheme Selection for Single Player -->
            <div id="controlSchemeSelection" class="control-scheme-selection" style="display: none;">
                <h3>Choose Your Controls</h3>
                <div class="control-options">
                    <button class="control-btn" id="arrowKeysBtn">
                        <div class="control-icon">â¬†ï¸â¬‡ï¸</div>
                        <h4>Arrow Keys</h4>
                        <p>More intuitive!</p>
                    </button>
                    <button class="control-btn" id="wasdKeysBtn">
                        <div class="control-icon">ğŸ…¦ğŸ…¢</div>
                        <h4>W/S Keys</h4>
                        <p>Classic style</p>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Control Selection -->
            <div id="mobileControlSelection" class="control-scheme-selection" style="display: none;">
                <h3>Choose Your Mobile Controls</h3>
                <div class="control-options">
                    <button class="control-btn" id="touchDragBtn">
                        <div class="control-icon">ğŸ‘†</div>
                        <h4>Touch & Drag</h4>
                        <p>Drag on screen to move</p>
                    </button>
                    <button class="control-btn" id="touchButtonsBtn">
                        <div class="control-icon">â¬†ï¸â¬‡ï¸</div>
                        <h4>Up/Down Buttons</h4>
                        <p>Tap buttons to move</p>
                    </button>
                </div>
            </div>
            
            <div class="mode-description">
                <h4>ğŸ† Three Player Tournament:</h4>
                <p>â€¢ Round-robin: Everyone plays everyone</p>
                <p>â€¢ Special final battles based on standings</p>
                <p>â€¢ Epic championship matches!</p>
                <p>â€¢ Most points wins the tournament</p>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>ğŸ® How to Play</h2>
            <div class="help-section">
                <h3>Controls:</h3>
                <p><strong>Player 1 (Left - Red Paddle):</strong> W (up) and S (down) keys</p>
                <p><strong>Player 2 (Right - Cyan Paddle):</strong> Arrow Up and Arrow Down keys</p>
            </div>
            <div class="help-section">
                <h3>ğŸ¯ Advanced Ball Control:</h3>
                <p>ğŸ’¡ <strong>Hit Direction:</strong> Where you hit the ball on your paddle matters!</p>
                <p>ğŸ” Hit the <strong>top</strong> of your paddle â†’ Ball goes UP</p>
                <p>ğŸ¯ Hit the <strong>center</strong> â†’ Ball goes STRAIGHT</p>
                <p>ğŸ”½ Hit the <strong>bottom</strong> â†’ Ball goes DOWN</p>
                <p>â­ Use this to <strong>aim for power-ups</strong> and control the game!</p>
            </div>
            <div class="help-section">
                <h3>Game Rules:</h3>
                <p>ğŸ¯ First to <strong>10 points</strong> wins!</p>
                <p>â±ï¸ <strong>Timer</strong> tracks your game time</p>
                <p>ğŸ“ˆ Game gets <strong>harder every 30 seconds</strong></p>
                <p>ğŸ† Score by getting the ball past your opponent</p>
            </div>
            <div class="help-section">
                <h3>ğŸ Power-Ups:</h3>
                <p>Power-ups appear randomly during the game. Hit them with the ball to activate!</p>
                <p>âš¡ <strong>Super Speed</strong> - YOU move faster for 5 seconds</p>
                <p>ğŸ“ <strong>Bigger Paddle</strong> - YOUR paddle grows bigger for 5 seconds</p>
                <p>â„ï¸ <strong>Freeze</strong> - Freezes YOUR OPPONENT for 3 seconds (they can't move!)</p>
                <p>ğŸ‘» <strong>Invisible Ball</strong> - Ball becomes hard to see for 4 seconds</p>
                <p>ğŸ¯ <strong>Multi-Ball</strong> - Creates 2 extra balls instantly</p>
                <p>ğŸŒ€ <strong>Curve Ball</strong> - Ball moves unpredictably for 5 seconds</p>
                <p>ğŸŒ <strong>Slow Motion</strong> - Ball slows down for 5 seconds</p>
                <p><em>ğŸ’¡ Tip: Power-ups help the player who hits them with the ball!</em></p>
            </div>
            <div class="help-section">
                <h3>ğŸ”¥ Special Features:</h3>
                <p>ğŸ² <strong>Combo System</strong> - Chain paddle hits for bonus points!</p>
                <p>   â€¢ Hit the ball 3 times in a row = +1 bonus point when you score</p>
                <p>   â€¢ Hit the ball 6 times in a row = +2 bonus points when you score</p>
                <p>   â€¢ Your combo resets if you miss or if 3 seconds pass without hitting</p>
                <p>ğŸ§± <strong>Moving Obstacles</strong> appear after 5 total points</p>
                <p>âœ¨ <strong>Particle Effects</strong> on every hit</p>
                <p>ğŸ“Š <strong>Difficulty Levels</strong> increase over time</p>
                <p>ğŸŒŸ <strong>Ball Trail</strong> effect for better tracking</p>
            </div>
            <div class="help-section">
                <h3>Shortcuts:</h3>
                <p><strong>SPACE</strong> - Start/Pause the game</p>
                <p><strong>R</strong> - Restart the game</p>
                <p><strong>?</strong> - Show this help menu</p>
                <p><strong>ESC</strong> - Close this menu</p>
            </div>
        </div>
    </div>

    <!-- Load scripts in correct order -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/entities.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/tournament.js"></script>
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
